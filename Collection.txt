// Object for working with collections
// by: remreider

var Standard = new Custom/Standard

// The items contained in the collection.
var items = []

// Create a collection from the given value.
func collect(items)
    var Collection = new Custom/Collection
    ?Standard.is_array(items)
        Collection.items = items
    return Collection

// Create a collection with the given range.
func range(from, to)
    return collect(Standard.range(from, to))

// Get all of the items in the collection.
func all()
    return items

// Get the average value of a given key.
func avg()
    var count = items.Count()
    ?count > 0
        var sum = 0
        for j = 0..(count - 1)
          sum = sum + items[j]
        return sum / count
    :
        return 0